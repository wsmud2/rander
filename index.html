<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <title>MUD 渲染模拟器</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- 引用您提供的CSS文件 -->
    <link href="dist/ws.css" rel="stylesheet" />
    <style>
        /* --- 补充和布局样式 --- */
        html, body {
            height: 100%;
            overflow: hidden;
        }

        #app-container {
            display: flex;
            flex-direction: column;
            height: 100vh; /* 占满整个视口高度 */
        }

        #controls {
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            background-color: #111;
            border-top: 1px solid #333;
        }

        #source-input {
            width: 100%;
            height: 150px; /* 输入框高度 */
            background-color: #222;
            color: #ddd;
            border: 1px solid #444;
            border-radius: 4px;
            padding: 8px;
            font-family: monospace; /* 使用等宽字体方便查看原始文本 */
            resize: vertical;
        }

        #control-buttons {
            display: flex;
            gap: 10px;
        }

        #control-buttons button {
            padding: 10px 20px;
            background-color: #555;
            color: #ddd;
            border: 1px solid #222;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.2s;
        }
        #control-buttons button:hover {
            background-color: #666;
        }
        #render-btn {
            flex-grow: 1; /* 让渲染按钮占据更多空间 */
        }

        /* --- 渲染区样式 --- */
        .content-message {
            flex: 1; /* 占据所有剩余空间 */
            overflow-y: auto;
            padding: 15px;
            scroll-behavior: smooth;
        }

        .content-message.fullscreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            background-color: black;
        }

        /* --- 自定义MUD颜色标签的CSS实现 --- */
        /* 这些是ws.css中没有的，需要我们自己定义 */
        hiz { color: #FF00FF; } /* 紫色 */
        hic { color: #00FFFF; } /* 青色 */
        hig { color: #00FF00; } /* 亮绿 */
        hiy { color: #FFFF00; } /* 黄色 */
        hir { color: #FF0000; } /* 红色 */
        wht { color: #FFFFFF; } /* 白色 */
        blk { color: #A9A9A9; } /* 暗灰色 (在黑色背景上可见) */
        
        line {
            display: block;
            text-align: center;
            border-top: 1px solid #555;
            border-bottom: 1px solid #555;
            color: #808080;
            margin: 1em 0;
            padding: 0.2em 0;
            font-weight: bold;
        }
    </style>
</head>

<body>

    <div id="app-container">
        <!-- 渲染区 -->
        <div class="content-message">
            <pre>这里是渲染结果区，请在下方输入框粘贴内容后点击“渲染”。</pre>
        </div>

        <!-- 输入和控制区 -->
        <div id="controls">
            <textarea id="source-input" spellcheck="false"></textarea>
            <div id="control-buttons">
                <button id="render-btn">渲染</button>
                <button id="fullscreen-btn">全屏</button>
            </div>
        </div>
    </div>

    <!-- 引用外部JS文件 -->
    <script src="dist/renderer.js" defer></script>

</body>
</html>
