<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MUD 风格文本渲染器</title>
    <style>dist/ws.css</style>
</head>
<body>

    <div class="main-container">
        <div class="main-header">
            <h1 class="main-title">MUD 风格文本实时渲染器</h1>
            <!-- 新增：切换视图按钮 -->
            <button id="toggle-view-btn">全屏预览</button>
        </div>
        
        <div class="editor-container">
            <!-- 给输入面板添加ID -->
            <div class="panel" id="input-panel">
                <h2>输入内容</h2>
                <textarea id="input-area"><ord>小无相功</ord>
逍遥派灭世神功
逍遥派的一门奇特武功，其主要特点是不着形相，无迹可寻，可以模仿别人的绝学
<blk>当装备为基本内功时：
臂力：+335
身法：+335
根骨：+335
内力上限：+300000
黄牛针对：+9999999
唯一：将你内力的75%转化为气血</blk>
<line>绝招</line>
<hic>【无相】</hic>
内力消耗：2040	出招时间：4秒	冷却时间：20秒
模仿敌人的上一个绝招，效果是你小无相功等级的85%，如果你的小无相品阶不低于对方技能的品阶并且是武器技能，你将学会这个绝招

<hic>【无我】</hic>
内力消耗：2040	出招时间：0.5秒	冷却时间：30秒
使用你无相模仿并学会的绝招，效果是你小无相功等级的80%</textarea>
                <div class="instructions">
                    支持的标签: &lt;ord&gt;, &lt;blk&gt;, &lt;hic&gt;, &lt;line&gt;, &lt;hig&gt;, &lt;hiy&gt;, &lt;hir&gt; 等
                </div>
            </div>
            <div class="panel" id="output-panel">
                <h2>实时预览</h2>
                <pre id="output-area"></pre>
            </div>
        </div>
    </div>

    <script>
        // 获取元素
        const inputArea = document.getElementById('input-area');
        const outputArea = document.getElementById('output-area');
        const toggleBtn = document.getElementById('toggle-view-btn');
        const editorContainer = document.querySelector('.editor-container');

        // 渲染函数
        function renderOutput() {
            outputArea.innerHTML = inputArea.value;
        }

        // 监听输入
        inputArea.addEventListener('input', renderOutput);

        // --- 新增：切换按钮的事件监听 ---
        toggleBtn.addEventListener('click', () => {
            // 切换 'full-view-mode' 类
            const isNowFullView = editorContainer.classList.toggle('full-view-mode');

            // 根据当前状态更新按钮文本
            if (isNowFullView) {
                toggleBtn.textContent = '返回编辑';
            } else {
                toggleBtn.textContent = '全屏预览';
            }
        });

        // 页面加载时首次渲染
        document.addEventListener('DOMContentLoaded', renderOutput);
    </script>

</body>
</html>
